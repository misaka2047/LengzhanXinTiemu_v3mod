je_franco_main = {
    icon = "gfx/interface/icons/event_icons/event_portrait.dds"
    
    group = je_group_internal_affairs

    complete = {
        scope:journal_entry = {
            is_goal_complete = yes
        }
    }

    on_complete = {
        trigger_event = {
            id = franco.2
        }
    }

    current_value = {
        value = var:franco_var
    } 

    goal_add_value = {
        add = 3
    }
    should_be_pinned_by_default = yes 
	progressbar = yes
    weight = 1000
}

je_franco_autocracy = {
    icon = "gfx/interface/icons/event_icons/event_portrait.dds"
    
    group = je_group_internal_affairs

    complete = {
        scope:journal_entry = {
            is_goal_complete = yes
        }
        has_law = law_type:law_autocracy
        NOT = {
            any_civil_war = {
                civil_war_progress > 0.5
                is_civil_war_type = revolution
            }
        }
        NOT = {
            any_interest_group = {
                law_stance = {
                    law = law_type:law_universal_suffrage
                    value > neutral
                }
                is_powerful = yes
            }
        }
        NOT = {
            any_interest_group = {
                law_stance = {
                    law = law_type:law_council_republic
                    value > neutral
                }
                is_powerful = yes
            }
        }
        highest_secession_progress < 0.2 
    }

    on_complete = {
        change_variable = {
            name = franco_var
            add = 1
        }
    }

    fail = {
        OR = {
            NOT = {
                has_law = law_type:law_autocracy
                has_law = law_type:law_oligarchy
                has_law = law_type:law_single_party_state
            }
            any_civil_war = {
                civil_war_progress > 0.75
                is_civil_war_type = revolution
            }
        }
    }

    on_fail = {
        trigger_event = {
            id = franco.3
        }
    }

    current_value = {
        value = var:franco_autocracy_var
    } 

    goal_add_value = {
        add = 300
    }

    on_weekly_pulse = {
        if = {
            limit = {
                has_law = law_type:law_autocracy
                NOT = {
                    any_civil_war = {
                        civil_war_progress > 0.5
                        is_civil_war_type = revolution
                    }
                }
                NOT = {
                    any_interest_group = {
                        law_stance = {
                            law = law_type:law_universal_suffrage
                            value > neutral
                        }
                        is_powerful = yes
                    }
                }
                NOT = {
                    any_interest_group = {
                        law_stance = {
                            law = law_type:law_council_republic
                            value > neutral
                        }
                        is_powerful = yes
                    }
                }
                highest_secession_progress < 0.2             
            }
            change_variable = {
                name = franco_autocracy_var
                add = 1
            }
        }
    }
    should_be_pinned_by_default = yes 
    progressbar = yes
    weight = 1000
}

je_franco_economy = {  
	icon = "gfx/interface/icons/event_icons/event_industry.dds"

	group = je_group_internal_affairs

	immediate = {
	}

	complete = {
        scope:journal_entry = {
            is_goal_complete = yes
        }
	}

    on_complete = {
        change_variable = {
            name = franco_var
            add = 1
        }
    }

	current_value = {
		value = root.gdp
	}

	goal_add_value = {
		value = root.gdp
		multiply = 1
	}

    should_be_pinned_by_default = yes 
    progressbar = yes
    weight = 1000
}

je_franco_diplomacy = {
    icon = "gfx/interface/icons/event_icons/event_portrait.dds"
    
    group = je_group_internal_affairs

    complete = {
        c:USA = { 
            relations:root >= 50 
        }
        c:GBR = { 
            relations:root >= 50 
        }
        c:FRA = { 
            relations:root >= 50 
        }
    }
    on_complete = {
        change_variable = {
            name = franco_var
            add = 1
        }
        set_country_type = recognized
    }
    should_be_pinned_by_default = yes 
    progressbar = yes
    weight = 1000  
}